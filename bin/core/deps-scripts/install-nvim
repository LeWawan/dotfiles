#!/usr/bin/env bash

git clone -b v0.11.1 https://github.com/neovim/neovim.git $HOME/personal/neovim

NVIM_REQUIRED_PACKAGES=(
  cmake
  gettext
  lua5.1
  liblua5.1.0-dev
)

if [[ $(uname) == Linux ]]; then
  sudo apt install "${NVIM_REQUIRED_PACKAGES[@]}"
elif [[ $(uname) == Darwin ]]; then
  brew install "${NVIM_REQUIRED_PACKAGES[@]}"
else
  echo "install_nvim error: device uname not recognized"
  return
fi

cd $HOME/personal/neovim
make CMAKE_BUILD_TYPE=RelWithDebInfo
sudo make install
